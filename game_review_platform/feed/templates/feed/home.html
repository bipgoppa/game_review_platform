<!DOCTYPE html>
<html>
<head>
    {% load static %}
    <link rel="stylesheet" href="{% static 'feed/css/style.css' %}">
    <title></title>
</head>


<body>
    {# messages intentionally not shown here to avoid displaying non-account messages #}

{% include 'feed/navbar.html' %}
<section class="hero-section">
    <div class="hero-content">
        <h1 class="hero-title">
            <img src="{% static 'feed/images/logo.png' %}" alt="PlayTested Logo" class="hero-logo-inline">
            <span>layTested</span>
        </h1>
    </div>
</section>
<div class="genre-filter" style="margin: 20px auto; padding: 20px; background-color: #2d3748; border-radius: 8px; max-width: 1200px; box-shadow: 0 4px 6px rgba(0,0,0,0.3);">
    <form method="get" action="{% url 'feed' %}" style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
        <label for="genre" style="font-weight: bold; font-size: 16px; color: #e2e8f0;">Filter by Genre:</label>
        <select name="genre" id="genre" onchange="this.form.submit()" style="padding: 10px 15px; border-radius: 5px; border: 2px solid #4a5568; background-color: #1a202c; color: #e2e8f0; font-size: 14px; cursor: pointer; min-width: 200px;">
            <option value="">All Genres</option>
            {% for genre in all_genres %}
                <option value="{{ genre }}" {% if selected_genre == genre %}selected{% endif %}>
                    {{ genre }}
                </option>
            {% endfor %}
        </select>

        <!-- Clear filter button -->
        {% if selected_genre %}
            <a href="{% url 'feed' %}" style="padding: 10px 20px; background-color: #e53e3e; color: white; text-decoration: none; border-radius: 5px; font-weight: bold; transition: background-color 0.3s;">
                Clear Filter
            </a>
        {% endif %}
    </form>
</div>



<div class="review-box">
    <div class="label-text">Friends Reviews</div>
    <div class="horizontal-scroll-container" style="display: flex; /* Lays out children (the cards) in a row */
    overflow-x: auto; /* Adds a horizontal scrollbar ONLY when needed */
    gap: 20px; /* Sets the space between each card */
    padding-bottom: 0px; /* Reduced space below the scrollbar */
    ">
        {% for x in friend_reviews %}
            {% include "reviews/review_card.html" with review=x %}
        {% empty %}
            <p class="empty-review-placeholder">Add friends to see their reviews here!</p>
        {% endfor %}
    </div>
</div>



<div class="review-box">
    <div class="label-text">Highest Rated Reviews</div>
    <div class="horizontal-scroll-container" style="display: flex; /* Lays out children (the cards) in a row */
    overflow-x: auto; /* Adds a horizontal scrollbar ONLY when needed */
    gap: 20px; /* Sets the space between each card */
    padding-bottom: 0px; /* Reduced space below the scrollbar */
    ">
        {% for x in highest_rated_reviews %}
            {% include "reviews/review_card.html" with review=x %}
        {% empty %}
            <p class="empty-review-placeholder">No reviews have been rated yet.</p>
        {% endfor %}
    </div>
</div>
</body>
</html>